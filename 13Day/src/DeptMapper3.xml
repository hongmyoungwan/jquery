<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ccc">
	
	<!-- 동적 sql문 사용시에는 DTO 또는 Hashmap에 저장하고 파라미터로 넘긴다 -->
    <select id="selectByDname" parameterType="hashmap" 
          resultType="Dept">
    select deptno, dname,loc
    from dept
    <if test="dname != null">
      where dname = #{dname}
    </if>

 </select>
 
 <select id="selectByDnameChoose" parameterType="hashmap" 
          resultType="Dept">
    select deptno, dname,loc
    from dept
    <choose>
     <when test="dname == 'SALES'">
         where deptno = 10
     </when>
     <when test="dname == 'RESEARCH'">
         where deptno = 20
     </when>
     <otherwise>
         where deptno = 30
     </otherwise>
    </choose>
 </select>
 
 
   <select id="selectByDnameWhere" parameterType="hashmap" 
          resultType="Dept">
    select deptno, dname,loc
    from dept
   <where>
     <if test="dname != null">
       dname = #{dname}
    </if>
   </where> 
  </select> 
    <select id="selectByDnameWhere2" parameterType="hashmap" 
          resultType="Dept">
    select deptno, dname,loc
    from dept
   <where>
     <if test="dname != null">
       dname = #{dname}
    </if>
     <if test="loc != null">
      or loc = #{loc}
    </if>
   </where>
 </select>
 

</mapper>



